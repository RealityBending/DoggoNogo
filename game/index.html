<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Doggo/Nogo: The Game</title>
        <style>
            body {
                margin: 0;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                background-color: #f0f0f0;
            }
            canvas {
                border: 1px solid black;
                background-color: #fff;
            }
        </style>
    </head>
    <body>
        <canvas id="gameCanvas" width="800" height="600"></canvas>

        <!-- STANDALONE VERSION OF THE GAME -->

        <!-- Shared UI helpers -->
        <script src="game.js"></script>
        <!-- Central game engine -->
        <script src="engine.js"></script>
        <!-- Level-specific game logic -->
        <script src="levels/level1.js"></script>
        <!-- Main game manager -->
        <script>
            // This script is the entry point for the standalone game.
            // It finds the canvas, loads the necessary scripts, and starts the game engine.
            const canvas = document.getElementById("gameCanvas")

            // The DoggoNogoEngine, DoggoNogoUI, and level1 objects are expected to be available globally.
            if (canvas && typeof DoggoNogoEngine !== "undefined" && typeof level1 !== "undefined" && typeof DoggoNogoUI !== "undefined") {
                DoggoNogoEngine.run(canvas, level1, {
                    assetBasePath: "", // Use paths relative to this HTML file
                    onFinish: (state) => {
                        console.log("Game finished. Final state:", state)
                        // The score screen is already shown by the engine.
                        // We could add a "Play Again" button here if desired.
                    },
                })
            } else {
                console.error("Could not start the game. Ensure canvas, engine, UI, and level scripts are loaded.")
            }
        </script>
    </body>
</html>
